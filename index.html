<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bytells</title>
  <meta name="description" content="Bridging the gap between logistics presence and data-driven intelligence. Built by Kgotla Data Labs.">

  <link rel="stylesheet" href="css/design-system.css">
  <link rel="stylesheet" href="css/landing.css">
  <link rel="icon" type="image/png" href="images/byells_abstract_logo-removebg-preview.png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
</head>
<body>

<nav class="nav" id="mainNav">
  <a href="#" class="nav-logo">
    <div class="nav-logo-mark" style="max-width: 100%; overflow: hidden;">
      <img src="images/byells_abstract_logo-removebg-preview.png" alt="Bytells Logo" style="max-width: 100%; height: auto; display: block;">
    </div>

    <div>
      <div class="nav-logo-text">Bytells</div>
      <div class="nav-logo-sub">by KDL</div>
    </div>
  </a>

  <ul class="nav-links">
    <li><a href="#features">Features</a></li>
    <li><a href="#schema">Schema</a></li>
    <li><a href="#security">Security</a></li>
    <li><a href="#protocol">The Protocol</a></li>
  </ul>

  <div class="nav-actions">
    <a href="dashboard.html" class="btn btn-ghost btn-sm">Client Login</a>
    <a href="dashboard.html" class="btn btn-primary btn-sm">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      Join the Protocol
    </a>
  </div>
</nav>

<section class="hero" id="hero">
  <!-- Left column -->
  <div class="hero-left">
    <div class="hero-eyebrow animate-fade-up">
      <div class="hero-eyebrow-line"></div>
      <span class="label-mono">v1.0.0 · 2026 Internal Release</span>
      <span class="label-tag tag-teal">
        <span class="status-dot online"></span>
        Live Protocol
      </span>
    </div>

    <div class="hero-headline display-xl animate-fade-up delay-1">
      <span>Bridging the gap between</span><br>
      <span class="accent">logistics presence</span><br>
      <span>and </span><span class="accent-amber">data-driven</span><br>
      <span>intelligence.</span>
    </div>

    <p class="hero-subline animate-fade-up delay-2">
      Bytells is KDL's industrial-grade logistics intelligence platform — delivering NL2SQL analytics, real-time fleet monitoring, and automated risk scoring for trucking and energy SMEs.
    </p>

    <div class="hero-cta-group animate-fade-up delay-3">
      <a href="dashboard.html" class="btn btn-primary">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
        Open Dashboard
      </a>
      <a href="#features" class="btn btn-secondary">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 8 12 12 14 14"/></svg>
        See The Protocol
      </a>
    </div>

    <div class="hero-meta animate-fade-up delay-4">
      <div>
        <div class="hero-stat-val">200<span>+</span></div>
        <div class="hero-stat-label">Operations Tracked</div>
      </div>
      <div>
        <div class="hero-stat-val">3<span>ms</span></div>
        <div class="hero-stat-label">Avg Query Response</div>
      </div>
      <div>
        <div class="hero-stat-val">99<span>.4%</span></div>
        <div class="hero-stat-label">Data Integrity Score</div>
      </div>
    </div>
  </div>

  <!-- Right column — NL2SQL teaser -->
  <div class="hero-right">
    <div class="teaser-widget animate-fade-up delay-2">
      <div class="teaser-header">
        <div class="teaser-title-row">
          <div class="teaser-icon">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
          </div>
          <div>
            <div class="teaser-title">NL → SQL Protocol</div>
            <div class="label-mono" style="margin-top:1px">Llama-3.3-70B · Groq</div>
          </div>
        </div>
        <span class="label-tag tag-teal">
          <span class="status-dot online"></span> Live Demo
        </span>
      </div>

      <div class="teaser-body">
        <!-- API Key input -->
        <div style="margin-bottom:12px;">
          <div class="form-label">Groq API Key (free at console.groq.com)</div>
          <input
            type="password"
            class="nl-input"
            id="heroApiKey"
            placeholder="gsk_..."
            style="width:100%;margin-bottom:0;"
          >
        </div>

        <!-- NL query input -->
        <div class="nl-input-area">
          <input
            type="text"
            class="nl-input"
            id="heroNlInput"
            placeholder="Ask anything about your fleet data..."
          >
          <button class="nl-send-btn" id="heroSendBtn" title="Run query">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
        </div>

        <!-- Sample chips -->
        <div class="prompt-chips" id="heroChips"></div>

        <!-- SQL output -->
        <div class="sql-output" id="heroSqlOutput">
          <span class="sql-label">Generated SQL</span>
          <span class="sql-code" style="display:block;min-height:28px;color:var(--teal-light)"></span>
        </div>

        <!-- Status -->
        <div id="heroStatus" class="label-mono" style="margin-bottom:8px;min-height:16px;color:var(--text-muted);"></div>

        <!-- Result chart -->
        <div class="result-area" id="heroResultArea">
          <div class="result-placeholder" id="heroPlaceholder">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color:var(--text-muted);opacity:0.5"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
            <span>Click a prompt chip or ask a question</span>
          </div>
          <div class="result-chart-container" id="heroChartContainer" style="display:none;">
            <canvas id="heroChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section" id="features">
  <div class="section-header">
    <div class="section-eyebrow">
      <div style="width:24px;height:1px;background:var(--teal);"></div>
      <span class="label-mono">Core Capabilities</span>
    </div>
    <h2 class="display-lg">The Protocol Stack</h2>
    <p style="color:var(--text-secondary);font-size:0.95rem;line-height:1.7;margin-top:12px;">
      Six integrated layers — from raw ingestion to AI-driven query — purpose-built for logistics and energy data operations.
    </p>
  </div>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon teal">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
      </div>
      <div class="feature-title">Self-Service Ingestion</div>
      <p class="feature-desc">Drag-and-drop Excel/CSV upload with Levenshtein fuzzy column matching. Similarity &gt;0.85 auto-maps; 0.60–0.84 prompts confirmation.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon amber">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
      </div>
      <div class="feature-title">NL2SQL Engine</div>
      <p class="feature-desc">Natural language queries converted to multi-table JOIN SQL via Llama-3.3-70B (Groq). Schema-aware, read-only, LIMIT-hardened.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon teal">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="3" y1="15" x2="21" y2="15"/><line x1="9" y1="3" x2="9" y2="21"/><line x1="15" y1="3" x2="15" y2="21"/></svg>
      </div>
      <div class="feature-title">Star Schema DB</div>
      <p class="feature-desc">Normalized PostgreSQL on Neon — three-table star schema (dim_vehicles, fact_operations, dim_risk). Zero data redundancy.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon amber">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      </div>
      <div class="feature-title">RBAC Security</div>
      <p class="feature-desc">Three-tier access: Fleet Manager, Analyst, Driver. Argon2 hashing, micro-segmented DB tunnel via Cloudflare, read-only AI proxy.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon grey">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
      </div>
      <div class="feature-title">Live Risk Scoring</div>
      <p class="feature-desc">Disruption Score, Delay Probability, and Route Risk computed from 20 schema fields. Driver Fatigue alerts surface in the HUD in real-time.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon teal">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"/></svg>
      </div>
      <div class="feature-title">GPS Fleet Tracking</div>
      <p class="feature-desc">GPS_Latitude and GPS_Longitude fields feed a live route map HUD. Vehicle position, ETA variation, and weather overlay in one screen.</p>
    </div>
  </div>
</section>


<section class="section schema-section" id="schema">
  <div class="section-header">
    <div class="section-eyebrow">
      <div style="width:24px;height:1px;background:var(--teal);"></div>
      <span class="label-mono">Database Architecture</span>
    </div>
    <h2 class="display-lg">Star Schema Design</h2>
    <p style="color:var(--text-secondary);font-size:0.95rem;line-height:1.7;margin-top:12px;">
      Three normalized tables eliminate redundancy and enable complex multi-table joins. The NL2SQL engine receives all three definitions in its system prompt.
    </p>
  </div>

  <div class="schema-grid">
    <!-- dim_vehicles -->
    <div class="schema-card">
      <div class="schema-card-header">
        <span class="schema-table-name">dim_vehicles</span>
        <span class="label-tag tag-teal">Dimension</span>
      </div>
      <div class="schema-fields">
        <div class="schema-field pk"><span class="field-name">Vehicle_ID</span><span class="field-type">PK · VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">Vehicle_Capacity</span><span class="field-type">INTEGER</span></div>
        <div class="schema-field"><span class="field-name">Cargo_Condition</span><span class="field-type">VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">Risk_Class</span><span class="field-type">VARCHAR</span></div>
      </div>
    </div>

    <!-- fact_operations -->
    <div class="schema-card" style="border-color:rgba(13,148,136,0.3);">
      <div class="schema-card-header" style="background:rgba(13,148,136,0.06);">
        <span class="schema-table-name">fact_operations</span>
        <span class="label-tag tag-amber">Fact Table</span>
      </div>
      <div class="schema-fields">
        <div class="schema-field pk"><span class="field-name">Operation_ID</span><span class="field-type">PK · SERIAL</span></div>
        <div class="schema-field fk"><span class="field-name">Vehicle_ID</span><span class="field-type">FK → dim_vehicles</span></div>
        <div class="schema-field fk"><span class="field-name">Route_ID</span><span class="field-type">FK → dim_risk</span></div>
        <div class="schema-field"><span class="field-name">Warehouse_ID</span><span class="field-type">VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">Timestamp</span><span class="field-type">TIMESTAMPTZ</span></div>
        <div class="schema-field"><span class="field-name">Fuel_Rate</span><span class="field-type">DECIMAL</span></div>
        <div class="schema-field"><span class="field-name">Traffic_Level</span><span class="field-type">VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">ETA_Variation</span><span class="field-type">INTEGER</span></div>
        <div class="schema-field"><span class="field-name">Loading_Time</span><span class="field-type">INTEGER</span></div>
        <div class="schema-field"><span class="field-name">Order_Status</span><span class="field-type">VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">Weather_Severity</span><span class="field-type">VARCHAR</span></div>
      </div>
    </div>

    <!-- dim_risk -->
    <div class="schema-card">
      <div class="schema-card-header">
        <span class="schema-table-name">dim_risk</span>
        <span class="label-tag tag-teal">Dimension</span>
      </div>
      <div class="schema-fields">
        <div class="schema-field pk"><span class="field-name">Route_ID</span><span class="field-type">PK · VARCHAR</span></div>
        <div class="schema-field"><span class="field-name">Driver_Fatigue</span><span class="field-type">INTEGER (1–10)</span></div>
        <div class="schema-field"><span class="field-name">Route_Risk</span><span class="field-type">DECIMAL (1–10)</span></div>
        <div class="schema-field"><span class="field-name">Delivery_Time_Deviation</span><span class="field-type">INTEGER</span></div>
        <div class="schema-field"><span class="field-name">Disruption_Score</span><span class="field-type">INTEGER (0–100)</span></div>
        <div class="schema-field"><span class="field-name">Delay_Probability</span><span class="field-type">DECIMAL (0–1)</span></div>
      </div>
    </div>
  </div>
</section>


<section class="section" id="security">
  <div class="section-header">
    <div class="section-eyebrow">
      <div style="width:24px;height:1px;background:var(--amber);"></div>
      <span class="label-mono">Security & Hardening</span>
    </div>
    <h2 class="display-lg">Zero Trust Architecture</h2>
    <p style="color:var(--text-secondary);font-size:0.95rem;line-height:1.7;margin-top:12px;">
      Six-layer security protocol: RBAC, Argon2 auth, Cloudflare micro-segmentation, read-only proxy, SQL sanitization, and DoS hardening.
    </p>
  </div>

  <div class="security-grid">
    <!-- RBAC Table -->
    <div class="security-visual">
      <div class="flex items-center gap-3" style="margin-bottom:var(--space-5);">
        <div style="width:32px;height:32px;background:var(--amber-glow);border:1px solid rgba(180,95,6,0.3);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;color:var(--amber-light);">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div>
          <div style="font-family:var(--font-display);font-size:0.9rem;font-weight:600;color:var(--text-primary);">RBAC Permissions Matrix</div>
          <div class="label-mono">Argon2 · Session Tokens</div>
        </div>
      </div>
      <table class="rbac-table">
        <thead>
          <tr>
            <th>Role</th>
            <th>Access Level</th>
            <th>NL2SQL</th>
            <th>Dashboard</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="label-tag tag-amber">Fleet Manager</span></td>
            <td>Full R/W + Users</td>
            <td style="color:var(--teal-light)">✓ Full</td>
            <td style="color:var(--teal-light)">All Views</td>
          </tr>
          <tr>
            <td><span class="label-tag tag-teal">Analyst</span></td>
            <td>Read-Only</td>
            <td style="color:var(--teal-light)">✓ Research</td>
            <td style="color:var(--text-secondary)">No Financials</td>
          </tr>
          <tr>
            <td><span class="label-tag tag-grey">Driver</span></td>
            <td>View Assigned Only</td>
            <td style="color:var(--text-muted)">✗</td>
            <td style="color:var(--text-secondary)">Route HUD</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Security items -->
    <div class="security-items">
      <div class="security-item">
        <div class="security-item-icon">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        </div>
        <div>
          <div class="security-item-title">Cloudflare Micro-Segmentation</div>
          <div class="security-item-desc">Neon PostgreSQL isolated from public internet. Only Flask backend accesses DB via encrypted Cloudflare Tunnel. No public IP exposed.</div>
        </div>
      </div>

      <div class="security-item">
        <div class="security-item-icon">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg>
        </div>
        <div>
          <div class="security-item-title">SQL Sanitization + Read-Only Proxy</div>
          <div class="security-item-desc">All AI-generated SQL parsed by <span style="font-family:var(--font-mono);color:var(--teal-light);font-size:0.78rem;">sqlparse</span>. Non-SELECT queries blocked. NL2SQL connects via <span style="font-family:var(--font-mono);color:var(--teal-light);font-size:0.78rem;">GRANT SELECT</span> DB user only.</div>
        </div>
      </div>

      <div class="security-item">
        <div class="security-item-icon">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        </div>
        <div>
          <div class="security-item-title">DoS Hardening — LIMIT 100</div>
          <div class="security-item-desc">Every query programmatically appended with <span style="font-family:var(--font-mono);color:var(--teal-light);font-size:0.78rem;">LIMIT 100</span> to prevent massive data retrieval attacks via the AI interface.</div>
        </div>
      </div>
    </div>
  </div>
</section>



<section class="cta-section" id="protocol">
  <div class="label-tag tag-teal" style="margin-bottom:var(--space-5);display:inline-flex;">
    <span class="status-dot online"></span>
    Now Accepting Early Access
  </div>
  <h2 class="display-lg">Ready to run The Protocol?</h2>
  <p style="color:var(--text-secondary);font-size:0.95rem;max-width:520px;margin:0 auto var(--space-8);line-height:1.7;position:relative;">
    Join the Bytells ecosystem — built specifically for logistics and energy SMEs who need enterprise-grade data intelligence without the enterprise overhead.
  </p>
  <div class="cta-group">
    <a href="dashboard.html" class="btn btn-primary">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      Join the Protocol
    </a>
    <a href="dashboard.html" class="btn btn-secondary">
      View Live Dashboard
    </a>
  </div>

  <div style="margin-top:var(--space-12);display:flex;align-items:center;justify-content:center;gap:var(--space-8);flex-wrap:wrap;position:relative;">
    <div style="text-align:center;">
      <div style="font-family:var(--font-mono);font-size:0.65rem;color:var(--text-muted);letter-spacing:0.1em;text-transform:uppercase;">Stack</div>
      <div style="font-size:0.8rem;color:var(--text-secondary);margin-top:4px;">Flask · Neon · Groq · Cloudflare</div>
    </div>
    <div style="width:1px;height:32px;background:var(--border-subtle);"></div>
    <div style="text-align:center;">
      <div style="font-family:var(--font-mono);font-size:0.65rem;color:var(--text-muted);letter-spacing:0.1em;text-transform:uppercase;">Dataset</div>
      <div style="font-size:0.8rem;color:var(--text-secondary);margin-top:4px;">Kaggle Logistics & Risk</div>
    </div>
    <div style="width:1px;height:32px;background:var(--border-subtle);"></div>
    <div style="text-align:center;">
      <div style="font-family:var(--font-mono);font-size:0.65rem;color:var(--text-muted);letter-spacing:0.1em;text-transform:uppercase;">Developer</div>
      <div style="font-size:0.8rem;color:var(--text-secondary);margin-top:4px;">Kgotla Data Labs (KDL)</div>
    </div>
  </div>
</section>


<footer class="footer">
  <div>
    <div class="footer-brand">Bytells v1.0.0 · © 2026 Kgotla Data Labs</div>
    <div style="font-family:var(--font-mono);font-size:0.6rem;color:var(--text-muted);margin-top:3px;letter-spacing:0.06em;">Logistics · Trucking · Energy Intelligence</div>
  </div>
  <div class="footer-links">
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">API Docs</a>
    <a href="#">Support</a>
  </div>
</footer>

<!-- Scripts -->
<script src="js/data.js"></script>
<script src="js/charts.js"></script>
<script src="js/nl2sql.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {

    // Nav scroll effect
    const nav = document.getElementById('mainNav');
    window.addEventListener('scroll', () => {
      nav.classList.toggle('scrolled', window.scrollY > 40);
    });

    BytellsCharts.initDefaults();

    // Populate prompt chips
    const chipsEl = document.getElementById('heroChips');
    BytellsNL2SQL.SAMPLE_PROMPTS.slice(0, 5).forEach(prompt => {
      const chip = document.createElement('button');
      chip.className = 'prompt-chip';
      chip.textContent = prompt;
      chip.addEventListener('click', () => {
        document.getElementById('heroNlInput').value = prompt;
        runHeroQuery(prompt);
      });
      chipsEl.appendChild(chip);
    });

    document.getElementById('heroSendBtn').addEventListener('click', () => {
      const q = document.getElementById('heroNlInput').value.trim();
      if (q) runHeroQuery(q);
    });

    // Enter key
    document.getElementById('heroNlInput').addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        const q = e.target.value.trim();
        if (q) runHeroQuery(q);
      }
    });

    // Hero NL2SQL query runner
    async function runHeroQuery(query) {
      const apiKey   = document.getElementById('heroApiKey').value;
      const sqlEl    = document.getElementById('heroSqlOutput');
      const statusEl = document.getElementById('heroStatus');
      const placeholder = document.getElementById('heroPlaceholder');
      const chartContainer = document.getElementById('heroChartContainer');

      const sqlCode = sqlEl.querySelector('.sql-code');

      // Reset
      sqlCode.textContent = '';
      sqlEl.classList.remove('active');
      placeholder.style.display = 'flex';
      chartContainer.style.display = 'none';
      document.getElementById('heroSendBtn').disabled = true;

      const result = await BytellsNL2SQL.runQuery({
        query,
        apiKey,
        sqlOutputEl: { classList: sqlEl.classList, querySelector: (s) => sqlEl.querySelector(s) },
        statusEl,
      });

      if (result) {
        // Show chart
        placeholder.style.display = 'none';
        chartContainer.style.display = 'block';
        BytellsCharts.nlResultChart('heroChart', result.result);
      }

      // typewrite the SQL into the span
      if (result?.sql) {
        const code = sqlEl.querySelector('.sql-code');
        code.textContent = '';
        sqlEl.classList.add('active');
        let i = 0;
        const t = setInterval(() => {
          code.textContent += result.sql[i++];
          if (i >= result.sql.length) clearInterval(t);
        }, 12);
      }

      document.getElementById('heroSendBtn').disabled = false;
    }

  });
</script>
</body>
</html>